(this["webpackJsonpnutritheraphy-client"]=this["webpackJsonpnutritheraphy-client"]||[]).push([[0],{114:function(e,t,a){},120:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),i=a(53),r=a.n(i),c=(a(64),a(15)),o=a(2),l=a(3),d=a(5),h=a(4),j=a(11),p=a(12),m=a(6),u=a.n(m),b=new function e(){var t=this;Object(o.a)(this,e),this.signup=function(e,a,n,s,i,r,c,o,l){return t.service.post("/signup",{username:e,password:a,image:n,email:s,name:i,lastName:r,city:c,country:o,typeOfDiet:l})},this.login=function(e,a){return t.service.post("/login",{username:e,password:a})},this.logout=function(){return t.service.post("/logout")},this.loggedin=function(){return t.service.get("/loggedin")},this.service=u.a.create({baseURL:"".concat("http://localhost:5005/api","/auth"),withCredentials:!0})},g=a(13),x=a(0),O=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={username:"",password:"",image:"",email:"",name:"",lastName:"",city:"",country:"",typeOfDiet:"",imageIsLoading:!1,showForm:!0},e.handleToggle=function(){e.setState({showForm:!1})},e.handleImageUpload=function(t){console.log(t.target.files[0]),e.setState({imageIsLoading:!0});var a=new FormData;a.append("imageUrl",t.target.files[0]),console.log(a),u.a.post("".concat("http://localhost:5005/api","/upload"),a,{withCredentials:!0}).then((function(t){return e.setState({image:t.data.imagePath,imageIsLoading:!1})})).catch((function(t){return e.props.history.push("/500")}))},e.handleChange=function(t){var a=t.target,n=a.name,s=a.value;e.setState(Object(p.a)({},n,s))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,s=a.password,i=a.image,r=a.email,c=a.name,o=a.lastName,l=a.city,d=a.country,h=a.typeOfDiet;b.signup(n,s,i,r,c,o,l,d,h).then((function(t){e.props.setUser(t.data,!0),e.props.history.push("/profile/".concat(t.data._id))}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,n=e.image,s=e.mail,i=e.name,r=e.lastName,c=e.city,o=e.country,l=(e.typeOfDiet,e.imageIsLoading);return Object(x.jsxs)("div",{style:{marginTop:"250px"},children:[Object(x.jsx)("h2",{children:"Create a new account"}),Object(x.jsxs)("form",{style:{marginTop:"100px",fontSize:"20px",width:"100%",display:"flex",flexDirection:"column",justifyContent:"space-evenly"},onSubmit:this.handleSubmit,children:[n&&Object(x.jsx)("img",{src:n,className:"card-img-top",alt:"recipeImage",height:"200px",width:"200px"}),Object(x.jsx)(g.BounceLoader,{color:"#D7BDE2",loading:l,size:90}),Object(x.jsx)("input",{onChange:this.handleImageUpload,style:{margin:"60px"},type:"file",name:"image"}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("div",{className:"col",children:[Object(x.jsx)("label",{htmlFor:"username",children:"Username"}),Object(x.jsx)("input",{style:{margin:"10px"},name:"username",type:"text",placeholder:"username",value:t,onChange:this.handleChange})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"col",children:[Object(x.jsx)("label",{htmlFor:"password",children:"Password "}),Object(x.jsx)("input",{style:{margin:"10px"},name:"password",placeholder:"password",type:"password",value:a,onChange:this.handleChange})]})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("div",{className:"col",children:[Object(x.jsx)("label",{htmlFor:"mail",children:"Mail"}),Object(x.jsx)("input",{style:{margin:"10px"},name:"mail",placeholder:"mail",type:"text",value:s,onChange:this.handleChange})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"col",children:[Object(x.jsx)("label",{htmlFor:"name",children:"Name"}),Object(x.jsx)("input",{style:{margin:"10px"},name:"name",placeholder:"name",type:"text",value:i,onChange:this.handleChange})]})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("div",{className:"col",children:[Object(x.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(x.jsx)("input",{style:{margin:"10px"},name:"lastName",placeholder:"last name",type:"text",value:r,onChange:this.handleChange})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"col",children:[Object(x.jsx)("label",{htmlFor:"city",children:"City"}),Object(x.jsx)("input",{style:{margin:"10px"},name:"city",placeholder:"city",type:"text",value:c,onChange:this.handleChange})]})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("div",{className:"col",children:[Object(x.jsx)("label",{htmlFor:"country",children:"Country"}),Object(x.jsx)("input",{style:{margin:"10px"},name:"country",placeholder:"country",type:"text",value:o,onChange:this.handleChange})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"col",children:[Object(x.jsx)("label",{htmlFor:"typeOfDiet",children:"Type of diet"}),Object(x.jsxs)("select",{style:{height:"35px",width:"160px",margin:"10px"},name:"typeOfDiet",onChange:this.handleChange,children:[Object(x.jsx)("option",{value:"vegetarian",children:"Vegetarian"}),Object(x.jsx)("option",{value:"keto",children:"Keto"}),Object(x.jsx)("option",{value:"glutenFree",children:"Gluten Free"}),Object(x.jsx)("option",{value:"lowCalories",children:"Low Calories"}),Object(x.jsx)("option",{value:"rawFood",children:"Raw Food"})]})]}),Object(x.jsx)("br",{})]}),Object(x.jsx)("div",{style:{marginTop:"100px"},className:"col",children:Object(x.jsx)("button",{style:{padding:"10px",margin:"10px",width:"100px",backgroundColor:"#4E6380",color:"white",fontWeight:"600"},type:"submit",children:"Signup"})})]})]})}}]),a}(n.Component),f=O,y=a(9),v=a.p+"static/media/LogoNutritherapy.a9d43b37.png",w=a(38),C=function(e){var t=e.isLoggedIn,a=e.user,n=e.setUser;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light d-sm-flex",style:{backgroundColor:"#D7BDE2",height:"170px"},children:Object(x.jsxs)("div",{className:"container-fluid",children:[Object(x.jsx)("img",{className:"logo",src:v,style:{height:"11vmin",marginTop:"20px",marginLeft:"40px",width:"500px"}}),Object(x.jsx)("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo02",children:t&&a&&Object(x.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)("div",{children:Object(x.jsx)(y.c,{to:"/recipes/create",children:Object(x.jsx)("button",{className:"btn btn-secondary:hover",style:{padding:"10px",margin:"10px",width:"100px",backgroundColor:"#4E6380",color:"white",fontWeight:"600"},children:"Create Recipe"})})})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)("div",{children:Object(x.jsx)("div",{children:Object(x.jsx)(y.c,{to:"/recipes/list",children:Object(x.jsx)("button",{className:"btn btn-secondary:hover",style:{padding:"10px",margin:"10px",width:"100px",backgroundColor:"#4E6380",color:"white",fontWeight:"600"},children:"Search Recipe"})})})})})]})}),Object(x.jsxs)("div",{className:"container-fluid d-sm-flex flex-wrap justify-content-end align-items-end",children:[t&&a&&Object(x.jsxs)("div",{className:"d-sm-flex flex-direction-row",children:[Object(x.jsx)("div",{className:"row  align-items-end",children:Object(x.jsx)(y.c,{to:"/profile/list",children:Object(x.jsx)("button",{className:"btn btn-secondary:hover mt-4",style:{marginRight:"10rem",padding:"10px",width:"150px",backgroundColor:"#4E6380",color:"white",fontWeight:"600"},children:"Community"})})}),Object(x.jsx)("div",{className:"row",children:Object(x.jsx)(y.c,{to:"/profile/".concat(a._id),children:Object(x.jsx)("button",{className:"btn btn-secondary:hover rounded-circle",style:{padding:"20px",width:"4rem",marginRight:"3rem",backgroundColor:"#4E6380",color:"white"},children:Object(x.jsx)(w.b,{})})})}),Object(x.jsxs)("div",{className:"col-md-4",children:[Object(x.jsxs)("h3",{children:["Hi,",a.username]}),Object(x.jsx)("div",{children:Object(x.jsx)(y.c,{to:"/",children:Object(x.jsx)("button",{className:"btn btn-secondary:hover w-100 m-10",style:{padding:"10px",marginRight:"10rem",backgroundColor:"#4E6380",color:"white",fontWeight:"600"},onClick:function(){b.logout().then((function(){n(null,!1)}))},children:"Logout"})})})]})]}),!t&&Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{children:[Object(x.jsx)(y.c,{to:"/signup",children:Object(x.jsx)("button",{className:"btn btn-secondary:hover",style:{padding:"10px",margin:"10px",width:"100px",backgroundColor:"#4E6380",color:"white",fontWeight:"600"},children:"Signup"})}),Object(x.jsx)(y.c,{to:"/login",children:Object(x.jsx)("button",{className:"btn btn-secondary:hover",style:{padding:"10px",margin:"10px",width:"100px",backgroundColor:"#4E6380",color:"white",fontWeight:"600"},children:"Login"})})]})})]})]})})})},N=(a(114),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={username:"",password:""},e.handleChange=function(t){var a=t.target,n=a.name,s=a.value;e.setState(Object(p.a)({},n,s))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,s=a.password;b.login(n,s).then((function(t){e.setState({username:"",password:""}),e.props.setUser(t.data,!0),e.props.history.push("/profile/".concat(t.data._id))}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password;return Object(x.jsx)("div",{style:{marginTop:"100px"},children:Object(x.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(x.jsx)("input",{name:"username",type:"text",value:t,onChange:this.handleChange}),Object(x.jsx)("input",{name:"password",type:"password",value:a,onChange:this.handleChange}),Object(x.jsx)("button",{type:"submit",className:"btn btn-secondary:hover",style:{padding:"10px",margin:"10px",width:"100px",backgroundColor:"#4E6380",color:"white",fontWeight:"600"},children:"Login"})]})})}}]),a}(n.Component)),k=N;var D=function(e){var t=e.history;return Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:" Sorry, something went wrong"}),Object(x.jsx)("button",{className:"btn btn-secondary:hover",style:{padding:"10px",margin:"10px",width:"100px",backgroundColor:"#4E6380",color:"white",fontWeight:"600"},onClick:function(){return t.goBack()},children:"Return"})]})},L=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={username:"",image:"",password:"",mail:"",name:"",lastName:"",city:"",country:"",typeOfDiet:""},e.handleChange=function(t){var a=t.target,n=a.name,s=a.value;e.setState(Object(p.a)({},n,s))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,s=a.image,i=a.password,r=a.email,c=a.name,o=a.lastName,l=a.city,d=a.country,h=a.typeOfDiet;u.a.patch("".concat("http://localhost:5005/api","/profile/").concat(e.props.match.params.id),{username:n,image:s,password:i,email:r,name:c,lastName:o,city:l,country:d,typeOfDiet:h},{withCredentials:!0}).then((function(t){return e.props.history.push("/profile/".concat(t.data._id))}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;u.a.get("".concat("http://localhost:5005/api","/profile/").concat(this.props.match.params.id),{withCredentials:!0}).then((function(t){e.setState({username:t.data.username,password:t.data.password,image:t.data.image,email:t.data.email,name:t.data.name,lastName:t.data.lastName,city:t.data.city,country:t.data.country,typeOfDiet:t.data.typeOfDiet})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.username,a=e.image,n=e.password,s=e.email,i=e.name,r=e.lastName,c=e.city,o=e.country;e.typeOfDiet;return Object(x.jsx)("div",{style:{marginTop:"250px"},children:Object(x.jsxs)("form",{style:{marginTop:"100px",fontSize:"20px",width:"100%",display:"flex",flexDirection:"column",justifyContent:"space-evenly"},onSubmit:this.handleSubmit,children:[a&&Object(x.jsx)("img",{src:a,alt:"imageUser"}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("div",{className:"col",children:[Object(x.jsx)("label",{htmlFor:"username",children:"Username"}),Object(x.jsx)("input",{style:{margin:"10px"},name:"username",type:"text",placeholder:"username",value:t,onChange:this.handleChange})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"col",children:[Object(x.jsx)("label",{htmlFor:"password",children:"Password "}),Object(x.jsx)("input",{style:{margin:"10px"},name:"password",placeholder:"password",type:"password",value:n,onChange:this.handleChange})]})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("div",{className:"col",children:[Object(x.jsx)("label",{htmlFor:"email",children:"Mail"}),Object(x.jsx)("input",{style:{margin:"10px"},name:"email",placeholder:"email",type:"text",value:s,onChange:this.handleChange})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"col",children:[Object(x.jsx)("label",{htmlFor:"name",children:"Name"}),Object(x.jsx)("input",{style:{margin:"10px"},name:"name",placeholder:"name",type:"text",value:i,onChange:this.handleChange})]})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("div",{className:"col",children:[Object(x.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(x.jsx)("input",{style:{margin:"10px"},name:"lastName",placeholder:"last name",type:"text",value:r,onChange:this.handleChange})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"col",children:[Object(x.jsx)("label",{htmlFor:"city",children:"City"}),Object(x.jsx)("input",{style:{margin:"10px"},name:"city",placeholder:"city",type:"text",value:c,onChange:this.handleChange})]})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("div",{className:"col",children:[Object(x.jsx)("label",{htmlFor:"country",children:"Country"}),Object(x.jsx)("input",{style:{margin:"10px"},name:"country",placeholder:"country",type:"text",value:o,onChange:this.handleChange})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"col",children:[Object(x.jsx)("label",{htmlFor:"typeOfDiet",children:"Type of diet"}),Object(x.jsxs)("select",{style:{height:"35px",width:"160px",margin:"10px"},name:"typeOfDiet",onChange:this.handleChange,children:[Object(x.jsx)("option",{value:"vegetarian",children:"Vegetarian"}),Object(x.jsx)("option",{value:"keto",children:"Keto"}),Object(x.jsx)("option",{value:"glutenFree",children:"Gluten Free"}),Object(x.jsx)("option",{value:"lowCalories",children:"Low Calories"}),Object(x.jsx)("option",{value:"rawFood",children:"Raw Food"})]})]}),Object(x.jsx)("br",{})]}),Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("div",{style:{marginTop:"100px"},className:"col",children:Object(x.jsx)("button",{style:{padding:"10px",margin:"10px",width:"100px",backgroundColor:"#4E6380",color:"white",fontWeight:"600"},type:"submit",children:"Edit"})})})]})})}}]),a}(n.Component),S=L,F=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={yourProfile:null,isLoading:!0},e.handleDelete=function(){u.a.delete("".concat("http://localhost:5005/api","/profile/").concat(e.props.match.params.id),{withCredentials:!0}).then((function(){e.props.history.push("/login")})).catch((function(){return e.props.history.push("/500")}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;u.a.get("".concat("http://localhost:5005/api","/profile/").concat(this.props.match.params.id),{withCredentials:!0}).then((function(t){e.setState({yourProfile:t.data,isLoading:!1})})).catch((function(t){return e.props.history.push("/500")}))}},{key:"render",value:function(){var e=this.state,t=e.yourProfile,a=e.isLoading;return Object(x.jsxs)("div",{className:"container-fluid",style:{margin:"15rem 0rem 15rem 0rem"},children:[a&&Object(x.jsx)(g.BounceLoader,{color:"#D7BDE2",size:90}),!a&&Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{children:" Your Profile "}),Object(x.jsxs)("div",{className:"card-deck d-sm-flex flex-row justify-content-center d-block m-auto mt-5",style:{height:"30rem",width:"90rem",backgroundColor:"#D9D5DB"},children:[Object(x.jsx)("img",{style:{height:"30rem",width:"40rem"},className:"card-img-top w-40 mr-md-5",src:t.image||"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSYxNbV-Jx4qPKQR3db2ue8zoHj5M94dEtMCg&usqp=CAU",alt:"profile-pic"}),Object(x.jsxs)("div",{className:"card-body d-sm-flex flex-column align-items-start justify-content-center text-secondary m-2",children:[Object(x.jsxs)("h4",{children:[Object(x.jsx)("strong",{children:" Username:"}),t.username]}),Object(x.jsxs)("h4",{children:[Object(x.jsx)("strong",{children:"Name: "}),t.name]}),Object(x.jsxs)("h4",{children:[Object(x.jsx)("strong",{children:"Last name:"})," ",t.lastName]}),Object(x.jsxs)("h4",{children:[Object(x.jsx)("strong",{children:"City:"})," ",t.city]}),Object(x.jsxs)("h4",{children:[Object(x.jsx)("strong",{children:"Country:"})," ",t.country]})]}),Object(x.jsxs)("div",{className:"card-body d-sm-flex flex-column align-items-center justify-content-center text-secondary m-2",children:[Object(x.jsx)(y.b,{to:"/profile/".concat(t._id,"/edit"),children:Object(x.jsx)("button",{type:"submit",onClick:this.handleToggle,style:{padding:"10px",margin:"10px",width:"100px",backgroundColor:"#4E6380",color:"white",fontWeight:"600"},children:"Edit"})}),Object(x.jsx)("button",{onClick:this.handleDelete,className:"btn btn-secondary:hover",style:{padding:"10px",margin:"10px",width:"100px",backgroundColor:"#4E6380",color:"white",fontWeight:"600"},children:"Delete"})]})]})]})]})}}]),a}(n.Component),I=F,T=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={ingredients:"null",ingredientToAdd:"null"},e.handleChange=function(t){var a=t.target,n=a.name,s=a.value;e.setState(Object(p.a)({},n,s))},e.addIngredientFromAPI=function(t){t.preventDefault(),console.log(e.state.ingredientToAdd);var a={method:"GET",url:"https://edamam-food-and-grocery-database.p.rapidapi.com/parser",params:{ingr:e.state.ingredientToAdd},headers:{"x-rapidapi-host":"edamam-food-and-grocery-database.p.rapidapi.com","x-rapidapi-key":"afd3f571c3msh5344128f7019f08p18f069jsneb990e2949bb"}};u.a.request(a).then((function(t){console.log(t.data.parsed[0].food),e.setState({ingredients:t.data.parsed[0].food,ingredientToAdd:t.data.parsed[0].food}),console.log("form send"),e.props.history.push("/recipes/ingredients")})).catch((function(e){console.error(e)}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state.ingredientToAdd;return Object(x.jsx)("div",{className:"form-group mt-5",children:Object(x.jsxs)("form",{onSubmit:this.addIngredientFromAPI,children:[Object(x.jsx)("label",{htmlFor:"ingredients",style:{width:"100px"},children:"Ingredients"}),Object(x.jsx)("input",{name:"ingredientToAdd",placeholder:"add ingredient",onChange:this.handleChange,value:e}),Object(x.jsx)("br",{}),Object(x.jsx)(y.b,{exact:!0,to:"/recipe/ingredientsList}",children:Object(x.jsx)("button",{type:"submit",className:"btn btn-secondary:hover mt-4",style:{marginLeft:"1.3rem",padding:"5px",width:"150px",backgroundColor:"#4E6380",color:"white",fontWeight:"600"},children:"Add"})})]})})}}]),a}(n.Component),E=T,U=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={title:"",image:"",createdBy:"",portions:"",howToCookIt:"",typeOfDiet:"",imageIsLoading:!1,ingredientToAdd:"",ingredients:[]},e.handleImageUpload=function(t){console.log(t.target.files[0]),e.setState({imageIsLoading:!0});var a=new FormData;a.append("imageUrl",t.target.files[0]),u.a.post("".concat("http://localhost:5005/api","/upload"),a,{withCredentials:!0}).then((function(t){return e.setState({image:t.data.imagePath,imageIsLoading:!1})})).catch((function(t){return e.props.history.push("/500")}))},e.handleChange=function(t){var a=t.target,n=a.name,s=a.value;e.setState(Object(p.a)({},n,s))},e.addIngredientFromAPI=function(t){t.preventDefault(),console.log(e.state.ingredientToAdd);var a={method:"GET",url:"https://edamam-food-and-grocery-database.p.rapidapi.com/parser",params:{ingr:e.state.ingredientToAdd},headers:{"x-rapidapi-host":"edamam-food-and-grocery-database.p.rapidapi.com","x-rapidapi-key":"afd3f571c3msh5344128f7019f08p18f069jsneb990e2949bb"}};u.a.request(a).then((function(t){console.log(t.data.parsed[0].food),e.setState({ingredients:t.data.parsed[0].food}),console.log("form send"),e.props.history.push("/recipes/ingredients")})).catch((function(e){console.error(e)}))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.createdBy,s=a.title,i=a.image,r=a.portions,c=a.typeOfDiet,o=a.howToCookIt;u.a.post("".concat("http://localhost:5005/api","/recipes/create"),{createdBy:n,title:s,image:i,portions:r,howToCookIt:o,typeOfDiet:c},{withCredentials:!0}).then((function(){return e.props.history.push("/recipes/list")})).catch((function(t){return e.props.history.push("/500")}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.title,a=e.image,n=e.portions,s=e.howToCookIt,i=(e.typeOfDiet,e.imageIsLoading);e.ingredients,e.ingredientToAdd;return Object(x.jsx)("div",{className:"d-sm-flex flex-direction-column align-items-start text-align-start justify-content-center mt-5",style:{height:"100%",backgroundColor:"#D9D5DB"},children:Object(x.jsx)("form",{onSubmit:this.handleSubmit,children:Object(x.jsxs)("div",{children:[Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"form-group mt-5",children:[a&&Object(x.jsx)("img",{src:a,style:{height:"10rem",width:"10 rem"},className:"card-img-top",alt:"recipeImage"}),Object(x.jsx)(g.BounceLoader,{color:"#D7BDE2",loading:i,size:90}),Object(x.jsx)("input",{onChange:this.handleImageUpload,type:"file",name:"image"})]}),Object(x.jsxs)("div",{className:"form-group m-5",children:[Object(x.jsx)("label",{htmlFor:"title",style:{width:"100px"},children:"Title"}),Object(x.jsx)("input",{name:"title",type:"text",value:t,onChange:this.handleChange}),Object(x.jsx)("br",{})]}),Object(x.jsxs)("div",{className:"form-group m-5",children:[Object(x.jsx)("label",{htmlFor:"portions",style:{width:"100px"},children:"Portions"}),Object(x.jsx)("input",{name:"portions",type:"text",value:n,onChange:this.handleChange}),Object(x.jsx)("br",{})]}),Object(x.jsxs)("div",{className:"form-group m-5",children:[Object(x.jsx)(E,{}),Object(x.jsx)("br",{})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"howToCookIt",style:{width:"120px"},children:"How To Cook It"}),Object(x.jsx)("textarea",{className:"form-control",id:"exampleFormControlTextarea1",rows:"7",name:"howToCookIt",value:s,onChange:this.handleChange}),Object(x.jsx)("br",{})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"typeOfDiet",children:"Type of Diet "}),Object(x.jsxs)("select",{className:"form-group m-5",id:"exampleFormControlSelect1",name:"typeOfDiet",onChange:this.handleChange,children:[Object(x.jsx)("option",{value:"vegetarian",children:"Vegetarian"}),Object(x.jsx)("option",{value:"keto",children:"Keto"}),Object(x.jsx)("option",{value:"glutenFree",children:"Gluten Free"}),Object(x.jsx)("option",{value:"lowCalories",children:"Low Calories"}),Object(x.jsx)("option",{value:"rawFood",children:"Raw Food"})]})]}),Object(x.jsx)("button",{type:"submit",style:{padding:"10px",margin:"auto",width:"100px",backgroundColor:"#4E6380",color:"white",fontWeight:"600"},children:"Create Recipe"})]})})})}}]),a}(n.Component),A=U,B=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={search:""},e.handleChange=function(t){var a=t.target,n=a.name,s=a.value;e.setState(Object(p.a)({},n,s)),e.props.handleFilter(t.target.value)},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(x.jsx)("div",{children:Object(x.jsx)("nav",{className:"navbar navbar-light bg-light",children:Object(x.jsx)("div",{className:"container-fluid",children:Object(x.jsx)("form",{className:"d-sm-flex",children:Object(x.jsx)("input",{className:"form-control me-2",name:"search",type:"search",placeholder:"Search","aria-label":"Search",value:this.state.search,onChange:this.handleChange})})})})})}}]),a}(n.Component),M=B,R=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={recipesList:null,filteredList:null,isLoading:!0},e.handleFilter=function(t){console.log("Query done",t);var a=e.state.recipesList.filter((function(e){return e.title.includes(t)||e.createdBy&&e.createdBy.username.includes(t)}));e.setState({filteredList:a})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;u.a.get("".concat("http://localhost:5005/api","/recipes/list"),{withCredentials:!0}).then((function(t){e.setState({recipesList:t.data,filteredList:t.data,isLoading:!1})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)(M,{handleFilter:this.handleFilter}),this.state.isLoading&&Object(x.jsx)(g.BounceLoader,{color:"#D7BDE2",size:90}),Object(x.jsx)("div",{className:"card-deck d-sm-flex flex-row flex-wrap justify-content-center",children:!this.state.isLoading&&this.state.filteredList.map((function(e){return Object(x.jsx)("div",{className:"card m-5 d-sm-flex flex-wrap-row",children:Object(x.jsxs)("div",{style:{fontSize:"1.3rem"},children:[Object(x.jsx)("img",{src:e.image||"http://www.missmigas.com/wp-content/uploads/2014/10/IMG_34141.jpg",alt:"recipe-pic"}),Object(x.jsxs)("div",{children:[Object(x.jsx)(y.b,{exact:!0,to:"/recipes/".concat(e._id),children:e.title}),Object(x.jsx)("br",{}),"Created by:",e.createdBy&&Object(x.jsx)(y.b,{exact:!0,to:"/profile/list",children:e.createdBy.username}),Object(x.jsx)("br",{})]})]})},e.id)}))})]})}}]),a}(n.Component),W=R,P=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={selectedRecipe:null,isLoading:!0},e.handleDelete=function(){u.a.delete("".concat("http://localhost:5005/api","/recipes/").concat(e.props.match.params.id),{withCredentials:!0}).then((function(){return e.props.history.push("/recipes/list")})).catch((function(){return e.props.history.push("/500")}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;u.a.get("".concat("http://localhost:5005/api","/recipes/").concat(this.props.match.params.id),{withCredentials:!0}).then((function(t){e.setState({selectedRecipe:t.data,isLoading:!1})})).catch((function(t){return e.props.history.push("/500")}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.selectedRecipe;return Object(x.jsxs)("div",{children:[t&&Object(x.jsx)(g.BounceLoader,{color:"#D7BDE2",size:90}),!t&&Object(x.jsx)("div",{className:"container-fluid m-5",children:Object(x.jsxs)("div",{className:"card-deck d-sm-flex flex-column justify-content-center d-block m-auto mt-5",style:{height:"80rem",width:"90rem",backgroundColor:"#D9D5DB"},children:[Object(x.jsx)("img",{src:a.image||"http://www.missmigas.com/wp-content/uploads/2014/10/IMG_34141.jpg",alt:"recipe-pic"}),Object(x.jsx)("h1",{children:a.title}),Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsx)("h3",{children:"How To Cook It"}),Object(x.jsx)("div",{className:"text-secondary text-justify ",children:Object(x.jsx)("h5",{children:a.howToCookIt})}),Object(x.jsx)(y.b,{to:"/recipes/".concat(a._id,"/edit"),children:Object(x.jsx)("button",{className:"btn btn-secondary:hover",style:{padding:"10px",margin:"10px",width:"100px",backgroundColor:"#4E6380",color:"white",fontWeight:"600"},children:"Edit"})}),Object(x.jsx)("button",{onClick:this.handleDelete,className:"btn btn-secondary:hover",style:{padding:"10px",margin:"10px",width:"100px",backgroundColor:"#4E6380",color:"white",fontWeight:"600"},children:"Delete"})]})]})})]})}}]),a}(n.Component),_=P,z=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={title:"",image:"",portions:"",howToCookIt:"",imageIsLoading:!1},e.handleImageUpload=function(t){e.setState({imageIsLoading:!0});var a=new FormData;a.append("image",t.target.files[0]),u.a.post("".concat("http://localhost:5005/api","/upload"),{uploadData:a},{withCredentials:!0}).then((function(t){return e.setState({image:t.data.imagePath,imageIsLoading:!1})})).catch((function(t){return e.props.history.push("/500")}))},e.handleChange=function(t){var a=t.target,n=a.name,s=a.value;e.setState(Object(p.a)({},n,s))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.title,s=a.image,i=a.portions,r=a.howToCookIt;u.a.patch("".concat("http://localhost:5005/api","/recipes/").concat(e.props.match.params.id),{title:n,image:s,portions:i,howToCookIt:r},{withCredentials:!0}).then((function(t){return e.props.history.push("/recipes/".concat(t.data._id))}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;u.a.get("".concat("http://localhost:5005/api","/recipes/").concat(this.props.match.params.id),{withCredentials:!0}).then((function(t){console.log(t.data.image),e.setState({title:t.data.title,image:t.data.image,portions:t.data.portions,howToCookIt:t.data.howToCookIt})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.title,a=(e.image,e.portions),n=e.ingredients,s=e.howToCookIt,i=e.imageIsLoading;return Object(x.jsx)("div",{className:"d-sm-flex flex-direction-column align-items-start text-align-start justify-content-center mt-5",style:{height:"900px",backgroundColor:"#D9D5DB"},children:Object(x.jsx)("form",{onSubmit:this.handleSubmit,children:Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"form-group mt-5",children:[Object(x.jsx)(g.BounceLoader,{color:"#D7BDE2",loading:i,size:90}),Object(x.jsx)("input",{onChange:this.handleImageUpload,type:"file",name:"image"})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"form-group m-5",children:[Object(x.jsx)("label",{htmlFor:"title",style:{width:"100px"},children:"Title"}),Object(x.jsx)("input",{name:"title",type:"text",value:t,onChange:this.handleChange}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"form-group m-5",children:[Object(x.jsx)("label",{htmlFor:"portions",style:{width:"100px"},children:"Portions"}),Object(x.jsx)("input",{name:"portions",type:"text",value:a,onChange:this.handleChange})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"form-group m-5",children:[Object(x.jsx)("label",{htmlFor:"ingredients",style:{width:"100px"},children:"Ingredients"}),Object(x.jsx)("input",{name:"ingredients",type:"text",value:n,onChange:this.handleChange}),Object(x.jsx)("br",{})]}),Object(x.jsxs)("div",{className:"form-group m-5 w-100 m-auto",children:[Object(x.jsx)("label",{htmlFor:"howToCookIt",children:"How To Cook It"}),Object(x.jsx)("textarea",{name:"howToCookIt",className:"form-control ",id:"exampleFormControlTextarea1",rows:"7",value:s,onChange:this.handleChange}),Object(x.jsx)("br",{})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"typeOfDiet",children:"Type of Diet "}),Object(x.jsxs)("select",{className:"form-group m-5",id:"exampleFormControlSelect1",name:"typeOfDiet",onChange:this.handleChange,children:[Object(x.jsx)("option",{value:"vegetarian",children:"Vegetarian"}),Object(x.jsx)("option",{value:"keto",children:"Keto"}),Object(x.jsx)("option",{value:"glutenFree",children:"Gluten Free"}),Object(x.jsx)("option",{value:"lowCalories",children:"Low Calories"}),Object(x.jsx)("option",{value:"rawFood",children:"Raw Food"})]})]}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{type:"submit",style:{padding:"10px",margin:"auto",width:"100px",backgroundColor:"#4E6380",color:"white",fontWeight:"600"},children:"Save"})]})]})})})}}]),a}(n.Component),G=z,q=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={listOfUsernames:null,filteredListOfUsers:null,isLoading:!0},e.handleFilter=function(t){var a=e.state.listOfUsernames.filter((function(e){return e.username.includes(t)}));e.setState({filteredListOfUsers:a})},e.handleClickChat=function(t){u.a.post("".concat("http://localhost:5005/api","/chat/create"),{userId:t},{withCredentials:!0}).then((function(t){return e.props.history.push("/chat/".concat(t.data._id))})).catch((function(e){return console.log(e)}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;u.a.get("".concat("http://localhost:5005/api","/profile/list"),{withCredentials:!0}).then((function(t){e.setState({listOfUsernames:t.data,filteredListOfUsers:t.data,isLoading:!1})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{children:[Object(x.jsx)(M,{handleFilter:this.handleFilter}),this.state.isLoading&&Object(x.jsx)(g.BounceLoader,{display:"block",margin:"auto",color:"#D7BDE2",size:90}),Object(x.jsx)("div",{className:"card-deck d-sm-flex flex-row flex-wrap justify-content-center w-18rem",children:!this.state.isLoading&&this.state.filteredListOfUsers.map((function(t){return Object(x.jsxs)("div",{className:"card m-5 d-sm-flex flex-wrap-row",children:[Object(x.jsx)("img",{className:"card-img-top",src:t.image||"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSYxNbV-Jx4qPKQR3db2ue8zoHj5M94dEtMCg&usqp=CAU",alt:"profile-pic"}),t.image&&Object(x.jsx)("img",{src:t.image,alt:"userImageProfile"}),Object(x.jsx)("div",{className:"card-body",children:Object(x.jsx)("p",{className:"card-text",children:Object(x.jsxs)("button",{className:"btn btn-secondary:hover mt-4",style:{marginLeft:"1.3rem",padding:"5px",width:"150px",backgroundColor:"#4E6380",color:"white",fontWeight:"600"},onClick:function(){return e.handleClickChat(t._id)},children:[t.username," ",Object(x.jsx)(w.a,{style:{height:"1.5rem",width:"2.3rem"}})]})})})]},t._id)}))})]})}}]),a}(n.Component),H=q,K=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(x.jsx)("div",{style:{display:"block",marginTop:"25rem"},children:Object(x.jsx)("img",{className:"logo",src:v,style:{height:"11vmin",marginTop:"20px",marginLeft:"40px",width:"500px"}})})}}]),a}(n.Component),V=a(59),J=a(58),Q="",Y=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={allMessages:[],isLoading:!0,currentMessage:""},e.handleChange=function(t){e.setState(Object(p.a)({},t.target.name,t.target.value))},e.sendMessage=function(){var t={chatId:e.props.match.params.chatId,input:e.state.currentMessage,sender:e.props.user};Q.emit("send_message",t),e.setState({currentMessage:""})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;u.a.get("".concat("http://localhost:5005/api","/chat/messages/").concat(this.props.match.params.chatId),{withCredentials:!0}).then((function(t){return e.setState({allMessages:t.data,isLoading:!1})})).catch((function(e){return console.log(e)})),(Q=Object(J.a)("".concat("http://localhost:5005"))).emit("join_chat",this.props.match.params.chatId),Q.on("receive_message",(function(t){e.setState({allMessages:[].concat(Object(V.a)(e.state.allMessages),[t])})}))}},{key:"render",value:function(){var e=this.state,t=e.allMessages,a=e.isLoading,n=e.currentMessage;return Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{children:"Welcome to Chat Room "}),Object(x.jsxs)("div",{className:"chatContainer",children:[Object(x.jsxs)("div",{className:"messages",children:[a&&Object(x.jsx)(g.BounceLoader,{color:"#D7BDE2",size:90}),!a&&t.map((function(e){return Object(x.jsx)("div",{className:"messageContainer",children:Object(x.jsxs)("p",{children:[e.sender.username,": ",e.input]})},e._id)}))]}),Object(x.jsxs)("div",{className:"messageInputs",children:[Object(x.jsx)("input",{type:"text",placeholder:"Message...",name:"currentMessage",value:n,onChange:this.handleChange}),Object(x.jsx)("button",{onClick:this.sendMessage,style:{padding:"10px",margin:"10px",width:"100px",backgroundColor:"#4E6380",color:"white",fontWeight:"600"},children:"Send"})]})]})]})}}]),a}(n.Component),X=Y;var Z=function(e){return console.log(e.history),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Sorry, not Found"}),Object(x.jsx)("button",{onClick:function(){return e.history.push("/")},className:"btn btn-secondary:hover rounded-circle",style:{padding:"20px",width:"4rem",marginRight:"3rem",backgroundColor:"#4E6380",color:"white"},children:"Return"})]})},$=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={isLoggedIn:null,user:null},e.setUser=function(t,a){e.setState({user:t,isLoggedIn:a})},e.getUser=function(){null===e.state.user&&b.loggedin().then((function(t){e.setState({user:t.data.user,isLoggedIn:!0})})).catch((function(t){e.setState({isLoggedIn:!1})}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getUser()}},{key:"render",value:function(){var e=this,t=this.state,a=t.user,n=t.isLoggedIn;return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(C,{isLoggedIn:n,user:a,setUser:this.setUser}),Object(x.jsxs)(j.c,{children:[Object(x.jsx)(j.a,{path:"/",exact:!0,render:function(e){return Object(x.jsx)(K,Object(c.a)({},e))}}),Object(x.jsx)(j.a,{path:"/signup",exact:!0,render:function(t){return Object(x.jsx)(f,Object(c.a)(Object(c.a)({},t),{},{setUser:e.setUser}))}}),Object(x.jsx)(j.a,{path:"/login",exact:!0,render:function(t){return Object(x.jsx)(k,Object(c.a)(Object(c.a)({},t),{},{setUser:e.setUser}))}}),Object(x.jsx)(j.a,{path:"/profile/list",exact:!0,render:function(e){return Object(x.jsx)(H,Object(c.a)({},e))}}),Object(x.jsx)(j.a,{path:"/chat/:chatId",exact:!0,render:function(e){return Object(x.jsx)(X,Object(c.a)(Object(c.a)({},e),{},{user:a}))}}),Object(x.jsx)(j.a,{path:"/profile/:id",exact:!0,render:function(e){return Object(x.jsx)(I,Object(c.a)({},e))}}),Object(x.jsx)(j.a,{path:"/profile/:id/edit",exact:!0,render:function(e){return Object(x.jsx)(S,Object(c.a)({},e))}}),Object(x.jsx)(j.a,{path:"/recipes/list",exact:!0,render:function(e){return Object(x.jsx)(W,Object(c.a)({},e))}}),Object(x.jsx)(j.a,{path:"/recipes/create",exact:!0,render:function(e){return Object(x.jsx)(A,Object(c.a)({},e))}}),Object(x.jsx)(j.a,{path:"/recipes/:id",exact:!0,render:function(e){return Object(x.jsx)(_,Object(c.a)({},e))}}),Object(x.jsx)(j.a,{path:"/recipes/:id/edit",exact:!0,render:function(e){return Object(x.jsx)(G,Object(c.a)({},e))}}),Object(x.jsx)(j.a,{path:"/500",component:D}),Object(x.jsx)(j.a,{component:Z})]})]})}}]),a}(n.Component),ee=$;a(119);r.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(y.a,{children:Object(x.jsx)(ee,{})})}),document.getElementById("root"))},64:function(e,t,a){}},[[120,1,2]]]);
//# sourceMappingURL=main.a30c057c.chunk.js.map