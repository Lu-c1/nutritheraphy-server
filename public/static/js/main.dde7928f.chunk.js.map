{"version":3,"sources":["services/auth-service.js","components/Signup.jsx","components/Navbar.jsx","components/Login.jsx","components/Private.jsx","App.js","index.js"],"names":["authService","signup","username","password","service","post","login","logout","loggedin","get","this","axios","create","baseURL","process","withCredentials","Signup","state","showForm","handleToggle","setState","handleChange","event","target","name","value","handleSubmit","preventDefault","then","result","props","setUser","data","mail","lastName","city","country","typeOfDiet","onSubmit","for","type","onChange","to","onClick","Component","Navbar","isLoggedIn","user","src","style","width","height","Login","Private","App","loggedInStatus","getUser","response","catch","error","className","exact","path","render","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dde7928f.chunk.js","sourcesContent":["import axios from \"axios\";\n\nclass AuthService {\n  constructor() {\n    this.service = axios.create({\n      baseURL: `${process.env.REACT_APP_SERVER_URL}/auth`,\n      withCredentials: true,\n    });\n  }\n\n  signup = (username, password) => {\n    return this.service.post(\"/signup\", { username, password });\n  };\n\n  login = (username,password)=>{\n      return this.service.post(\"/login\", {username,password});\n  }\n\n  logout=()=>{\n      return this.service.post(\"/logout\")\n  }\n  loggedin = () =>{\n      return this.service.get(\"/loggedin\")\n  }\n}\n\nconst authService = new AuthService();\nexport default authService;\n","import React, { Component } from \"react\";\nimport authService from \"../services/auth-service\";\nimport { NavLink } from \"react-router-dom\";\n\nclass Signup extends Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    showForm: true,\n  };\n\n  handleToggle = () => {\n    this.setState({ showForm: false });\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const { username, password } = this.state;\n    authService.signup(username, password).then((result) => {\n      this.setState({ username: \"\", password: \"\" });\n      this.props.setUser(result.data, true);\n    });\n  };\n  render() {\n    const {\n      username,\n      password,\n      mail,\n      name,\n      lastName,\n      city,\n      country,\n      typeOfDiet,\n    } = this.state;\n    return (\n      <div>\n        <form onSubmit={this.handleSubmit}>\n          <label for=\"username\">Username</label>\n          <input\n            name=\"username\"\n            type=\"text\"\n            value={username}\n            onChange={this.handleChange}\n          />\n          <br />\n          <label for=\"password\">Password</label>\n          <input\n            name=\"password\"\n            type=\"password\"\n            value={password}\n            onChange={this.handleChange}\n          />\n          <br />\n          <label for=\"mail\">email</label>\n          <input\n            name=\"mail\"\n            type=\"text\"\n            value={mail}\n            onChange={this.handleChange}\n          />\n          <br />\n          <label for=\"name\">Name</label>\n          <input\n            name=\"name\"\n            type=\"text\"\n            value={name}\n            onChange={this.handleChange}\n          />\n          <br />\n          <label for=\"lastName\">Last Name</label>\n          <input\n            name=\"lastName\"\n            type=\"text\"\n            value={lastName}\n            onChange={this.handleChange}\n          />\n          <br />\n          <label for=\"city\">City</label>\n          <input\n            name=\"city\"\n            type=\"text\"\n            value={city}\n            onChange={this.handleChange}\n          />\n          <br />\n          <label for=\"country\">Country</label>\n          <input\n            name=\"country\"\n            type=\"text\"\n            value={country}\n            onChange={this.handleChange}\n          />\n          <br />\n          <label for=\"typeOfDiet\">What type of diet do you need?</label>\n          <select name=\"typeOfDiet\" onChange={this.handleChange}>\n            <option value=\"vegetarian\">Vegetarian</option>\n            <option value=\"keto\">Keto</option>\n            <option value=\"glutenFree\">Gluten Free</option>\n            <option value=\"lowCalories\">Low Calories</option>\n          </select>\n          <br />\n          <NavLink to=\"/\">\n            <button type=\"submit\" onClick={this.handleToggle}>\n              Signup\n            </button>\n          </NavLink>\n        </form>\n      </div>\n    );\n  }\n}\nexport default Signup;\n","import React, { Component } from 'react'\nimport { NavLink } from 'react-router-dom'\nimport authService from '../services/auth-service'\n\n const Navbar = (props) => {\n\n    const {isLoggedIn, user,setUser} = props\n\n    const logoutUser = () =>{\n        authService.logout()\n        .then(()=>{\n            setUser(null,false);  \n        })\n    }\n    \n    return (\n    <div>\n       <div>\n            <img src =\"../images/LogoNutritherapy.png\" style={{width:\"480px\", height:\"300px\"}} />\n       </div>\n      <ul>\n\n        {isLoggedIn && user &&(\n        <> \n            <li>Hi,{user.username}</li>\n            <li>\n                <NavLink to=\"/\">\n                    <button onClick={logoutUser}>Logout</button>\n                </NavLink>\n            </li>\n        </>\n        )}\n\n        {!isLoggedIn && (\n        <>\n         \n            <li>\n                <NavLink to=\"/signup\">\n                    <button>Signup</button>\n                </NavLink>\n                <NavLink to=\"/login\">\n                    <button>Login</button>\n                </NavLink>\n                </li>\n            </>\n        )}\n        </ul>\n    </div>\n    )\n  }\n\nexport default Navbar;","import React, { Component } from 'react'\nimport authService from '../services/auth-service';\n\n class Login extends Component {\n     state={\n         username:\"\",\n         password:\"\"\n     }\n     handleChange =(event)=>{\n         const{name, value}=event.target;\n        this.setState({[name]:value})\n\n     }\n     handleSubmit = (event) =>{\n         event.preventDefault();\n         const{username,password}=this.state\n         authService\n         .login(username, password)\n         .then((result)=>{\n             this.setState({username:\"\", password:\"\"});\n             this.props.setUser(result.data, true)\n         });\n        \n     };\n  render() {\n      const{username,password}=this.state\n    return (\n      <div>\n        <form onSubmit={this.handleSubmit}>\n            <input name=\"username\" type=\"text\" value={username} onChange={this.handleChange} />\n\n            <input name=\"password\" type=\"password\" value={password} onChange={this.handleChange} />\n\n            <button type = \"submit\">Login</button>\n        </form>\n        \n      </div>\n    )\n  }\n}\nexport default Login","import React, { Component } from 'react'\n\nexport default class Private extends Component {\n  render() {\n    return (\n      <div>\n        <p>hello</p>\n      </div>\n    )\n  }\n}\n","import React, { Component } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport Signup from \"./components/Signup\";\nimport Navbar from \"./components/Navbar\";\nimport \"./App.css\";\nimport authService from \"./services/auth-service\";\nimport Login from \"./components/Login\";\nimport Private from \"./components/Private\";\n/* import HomePage from \"./pages/HomePage\";\nimport * as PATHS from \"./utils/paths\"; */\n\nclass App extends Component {\n  state = {\n    isLoggedIn: null,\n    user: null,\n  };\n  setUser = (user, loggedInStatus) => {\n    this.setState({\n      user,\n      isLoggedIn: loggedInStatus,\n    });\n  };\n  getUser = () => {\n    if (this.state.user === null) {\n      authService.loggedin()\n      .then((response) => {\n        this.setState({\n          user:response.data.user,\n          isLoggedIn:true\n        });\n          }).catch((error)=>{\n          this.setState({\n            isLoggedIn:false\n        });\n      });\n    }\n  };\n\n  componentDidMount() {\n    this.getUser();\n  }\n  render() {\n    const { user, isLoggedIn } = this.state;\n    return (\n      <div className=\"App\">\n        <Navbar isLoggedIn={isLoggedIn} user={user} setUser={this.setUser} />\n        <Switch>\n          <Route\n            exact\n            path=\"/signup\"\n            render={(props) => <Signup {...props} setUser={this.setUser} />}\n          />\n          <Route\n            exact\n            path=\"/login\"\n            render={(props) => <Login {...props} setUser={this.setUser} />}\n          />\n\n          <Route\n            exact\n            path=\"/private\"\n            render={(props) => <Private {...props} />}\n          />\n        </Switch>\n      </div>\n    );\n  }\n}\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\n//import reportWebVitals from \"./reportWebVitals\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}